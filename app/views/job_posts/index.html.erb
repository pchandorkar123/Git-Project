<p id="notice"><%= notice %></p>

<h1>Job Posts</h1>

<table>
  <thead>
    <tr>
       <th>Title</th>
      <th>Description</th>
      <th>Contact</th>
      <th>Salary</th>
      
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @job_posts.each do |job_post| %>
      <tr>
        <td><%= job_post.title %></td>
        <td><%= job_post.description %></td>
        <td><%= job_post.contact %></td>
        <td><%= job_post.salary %></td><br>
        

        <% if can? :manage, Admin %>
          <td><%= link_to 'Show', job_post %></td>
         <td><%= link_to 'Destroy', job_post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
         
         <% end -%>


          <% if current_user.type == 'Contractor' %>
           
            <td><%= link_to 'Show', job_post %></td>
            <td><%= link_to 'Edit', edit_job_post_path(job_post) %></td>
            <td><%= link_to 'Destroy', job_post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <td><%= link_to 'New Job Post', new_job_post_path %></td>

          <% elsif current_user.type == 'Worker' %>
           <td><%= link_to 'Apply for job', new_apply_path %></td>
            <td><%= link_to 'Show', job_post %></td>
            
        <% end -%>
      </tr>
    <% end %>
  </tbody>
</table>

<br>


